---
title: "Accessing Fiscal Policy Effect using Structural VAR"
author: "Hanwen Zhang"

execute:
  echo: false
  
bibliography: references.bib
---

> **Abstract.** This is a suggested formatting for your abstract. This **quarto** document is a template for your report. It includes some basic ways of working with such documents. You are invited to learn more about developing online reports with this technology. 
>
> **Keywords.** fiscal policy shock, SVAR, impulse responses, tax shocks, stock price



```{r package load}
library(readrba)
library(readabs)
library(xts)
Sys.setenv(R_READABS_PATH = "/Users/hanwenzhang/Desktop/Macro/data")
```


# Introduction

# Literature Review

# Data 

# Methodology 


```{r}
#| echo: true
##| label: tbl-irf
##| tbl-cap: Impulse response of gdp to unanticipated tax increase by 1 pp. within two years
#irf_gdp_tax = matrix(apply(irf[3,1,1:9,],1, mean), nrow = 1)
#rownames(irf_gdp_tax) = "change in gdp [%]"
#colnames(irf_gdp_tax) = 0:8
#knitr::kable(irf_gdp_tax, digits = 3)
```

```{r}
#| echo: true
##| label: fig-irf
##| fig-cap: Impulse response of gdp to unanticipated tax increase by 1 pp. within five years
#irf_median    = apply(irf[3,1,,],1, median)
#irf_hdi       = apply(irf[3,1,,],1, HDInterval::hdi, credMass = .68)
#plot(x = 0:20, y = irf_median, type = "l", bty = "n", 
    # xlab = "horizon", ylab = "change in gdp [%]",
   #  ylim = range(irf_hdi))
#polygon(x = c(0:20, 20:0), y = c(irf_hdi[1,], irf_hdi[2,21:1]), col = "deepskyblue1", border = "deepskyblue1")
#lines(x = 0:20, y = irf_median, lwd = 2, col = "deepskyblue3")
```



```{r}
#| echo: true
nominal_gdp <- read_abs(series_id = "A2304420C") # GDP per capita: Current prices ;
tmp.gdp.nominal <- xts(nominal_gdp$value, nominal_gdp$date) # 1959-09-01
na.omit(tmp.gdp.nominal) 

deflator_gdp <- read_abs(series_id = "A2303730T") # GROSS DOMESTIC PRODUCT ;
tmp.gdp.deflator <- xts(deflator_gdp$value, deflator_gdp$date) 
na.omit(tmp.gdp.deflator) 
head(tmp.gdp.deflator)

real_gdp <- tmp.gdp.nominal/tmp.gdp.deflator
gdp <- log(na.omit(real_gdp)) # 1973-09-01 to 2022-12-01
head(gdp)

total_tax <- read_abs(series_id = "A2302794K")
tmp.tax <- xts(total_tax$value, total_tax$date) 
tax <- tmp.tax / tmp.gdp.deflator # 1959-09-01 to 2022-12-01



```


# Preliminary Results 

# References {.unnumbered}